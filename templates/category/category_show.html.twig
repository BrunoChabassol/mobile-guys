{% extends 'base.html.twig' %}


{% block body %}
<h2>{{ title }}</h2>

    <table>
        <tr>
            <th>Nom</th>
            <th>Image</th>
            <th>Prix</th>
            <th>Action</th>
        </tr>
        {% for product in products %}
            <tr>
                <td><a href="{{ path('product_show', {'slug': product.slug}) }}">{{ product.designation }}</a> </td>
                <td><img src="/img/{{ product.image }}" alt="{{ product.designation }}"></td>
                <td>{{ product.price }} â‚¬</td>
                <td>
                    {% if product.stock == 0 %}
                        <p>Out of stock :(</p>
                    {% else %}
                        <form method="post" action="{{ path('cart_add', {'id' : product.id, 'quantite': 1}) }}">
                            <input type="number" value="1" id="how" name="how" min="1" max="30">
                            <button type="submit">Ajouter au panier</button>
                        </form>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        {{ knp_pagination_render(products) }}
    </table>
{% endblock %}