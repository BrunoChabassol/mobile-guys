{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}


{% block body %}

    <section class="banner_4">
    </section>
    {% for message in app.flashes('warning') %}
        <div class="alert alert-danger">

    {% for message in app.flashes('success') %}
        <div class="alert alert-success">
            {{ message }}
        </div>
    {% endfor %}

    <section class="container-fluid">
        <h2>Affichage du panier</h2>

            {% if emptyCart == 1 %}
                <p>Votre panier est vide !!!</p>
            {% else %}
                <table>
                    <tr>
                        <th>Nom</th>
                        <th>Quantit√©</th>
                        <th>Prix</th>
                        <th>Action</th>
                    </tr>
                    {% for index,product in cart %}
                        {{ dump(product) }}
                    <tr>
                        <td>{{ product.product.designation }}</td>
                        <td>{{ product.quantite }}</td>
                        <td>{{ product.product.price |format_currency('EUR') }}</td>
                        <td><a href="{{ path('cart_delete', {'id' : index}) }}">Supprimer</a> </td>
                    </tr>
                    {% endfor %}

            <p>Total : {{ total }}</p>

            <a href="{{ path('cart_trash') }}">Vider le panier</a>
        </table>
                    <a href="{{ path('cart_trash') }}">Vider le panier</a>
                </table>

                <a href="{{ path('cart_validation') }}">Valider le panier</a>
            {% endif %}
    </section>
{% endblock %}